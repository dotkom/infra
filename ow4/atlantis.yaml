version: 3
projects:
- dir: github-repos
  autoplan:
    when_modified: ["../modules/github-repo/*.tf", "../modules/github-workflow-auth/*.tf", "*.tf*"]
  terraform_version:  v1.0.4

- dir: vault-config
  autoplan:
    when_modified: ["*.tf*"]
  terraform_version:  v1.0.4

- dir: vault
  autoplan:
    when_modified: ["*.tf*"]
  terraform_version:  v1.0.4

- dir: consul-config
  autoplan:
    when_modified: ["*.tf*"]
  terraform_version:  v1.0.4

- dir: consul
  autoplan:
    when_modified: ["*.tf*"]
  terraform_version: v1.0.4

- dir: nomad
  autoplan:
    when_modified: ["*.tf*"]
  terraform_version: v1.0.4

- dir: traefik
  autoplan:
    when_modified: ["*.tf*", "files/*"]
  terraform_version: v1.0.4

- dir: prometheus
  autoplan:
    when_modified: ["*.tf*", "files/*", "../modules/efs-nomda-volume/*.tf"]
  terraform_version: v1.0.4

- dir: loki
  autoplan:
    when_modified: ["*.tf*", "files/*"]
  terraform_version: v1.0.4

- dir: alertmanager
  autoplan:
    when_modified: ["*.tf*", "files/*"]
  terraform_version: v1.0.4

- dir: grafana
  autoplan:
    when_modified: ["*.tf*", "files/*"]
  terraform_version: v1.0.4

- dir: atlantis
  autoplan:
    when_modified: ["*.tf*", "files/*", "../modules/efs-nomda-volume/*.tf"]
  terraform_version: v1.0.4

- dir: nomad-ebs-volume-plugin
  autoplan:
    when_modified: ["*.tf*", "files/*"]
  terraform_version: v1.0.4

- dir: onlineweb4
  autoplan:
    when_modified: ["*.tf*"]
  terraform_version: v1.0.4

- dir: onlineweb-frontend
  autoplan:
    when_modified: ["*.tf*", "files/*"]
  terraform_version: v1.0.4

- dir: rds
  autoplan:
    when_modified: ["*.tf*"]
  terraform_version: v1.0.4

- dir: docker-registry
  autoplan:
    when_modified: ["*.tf*", "files/*"]
  terraform_version: v1.0.4

- dir: gradestats
  autoplan:
    when_modified: ["*.tf*", "files/*"]
  terraform_version: v1.0.4
- dir: redis
  autoplan:
    when_modified: ["*.tf*", "files/*"]
  terraform_version: v1.0.4
- dir: ow-gtx
  autoplan:
    when_modified: ["*.tf*", "files/*"]
  terraform_version: v1.0.4
